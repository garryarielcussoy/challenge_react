{"ast":null,"code":"import _classCallCheck from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'../styles/bootstrap.min.css';import heartIcon from'../img/heart_icon.png';import shareIcon from'../img/share_icon.png';import dislikeIcon from'../img/dislike_icon.png';import axios from'axios';import loadingLogo from\"../img/logo.svg\";// News API\nvar apiKey='9975f97755874c9fb9b501d61a9cff2a';var baseUrl='https://newsapi.org/v2/';var urlHeadline=baseUrl+\"everything?sources=cnn&apiKey=\"+apiKey;export var KontenUtama=/*#__PURE__*/function(_React$Component){_inherits(KontenUtama,_React$Component);function KontenUtama(){var _getPrototypeOf2;var _this;_classCallCheck(this,KontenUtama);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(KontenUtama)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={beritaUtama:[],isLoading:true,keyWord:_this.props.keyWord};_this.componentWillReceiveProps=function(incomingChange){console.warn('incoming change on props value',incomingChange.keyWord);var self=_assertThisInitialized(_this);if(incomingChange.keyWord.length>2){axios.get(baseUrl+\"everything?q=\"+incomingChange.keyWord+\"&apiKey=\"+apiKey).then(function(response){self.setState({beritaUtama:response.data.articles,isLoading:false});}).catch(function(response){self.setState({isLoading:false});});console.warn('response',_this.state.beritaUtama);}};_this.componentDidMount=function(){var self=_assertThisInitialized(_this);axios.get(urlHeadline).then(function(response){self.setState({beritaUtama:response.data.articles,isLoading:false});}).catch(function(response){self.setState({isLoading:false});});};return _this;}_createClass(KontenUtama,[{key:\"render\",value:function render(){var _this$state=this.state,beritaUtama=_this$state.beritaUtama,isLoading=_this$state.isLoading;// Take news only if the image is not null\nvar beritaUtamaDenganImage=beritaUtama.filter(function(element){return element.urlToImage!==null;});// To take the first ten news\nvar beritaUtamaTeratas=beritaUtamaDenganImage.filter(function(element,key){return key<=9;});// Case while not loading\nif(isLoading===false){return React.createElement(\"div\",{className:\"konten-utama\"},beritaUtamaTeratas.map(function(element,key){return React.createElement(\"div\",{className:\"each-content\"},React.createElement(\"img\",{className:\"content-image\",src:element.urlToImage,alt:\"\"}),React.createElement(\"h3\",{className:\"judul-konten-utama\"},React.createElement(\"a\",{href:element.url,target:\"_blank\"},element.title)),React.createElement(\"p\",{className:\"isi-konten-utama\"},element.description),React.createElement(\"p\",{className:\"last-update\"},\"Published At: \",element.publishedAt),React.createElement(\"div\",{className:\"container-fluid love-share-dislike\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-4 love\"},React.createElement(\"img\",{className:\"a-pack-of-icons\",src:heartIcon})),React.createElement(\"div\",{className:\"col-4 share\"},React.createElement(\"img\",{className:\"a-pack-of-icons\",src:shareIcon})),React.createElement(\"div\",{className:\"col-4 dislike\"},React.createElement(\"img\",{className:\"a-pack-of-icons\",src:dislikeIcon})))));}));}// Case while loading\nelse{return React.createElement(\"div\",{className:\"while-loading\"},\"Loading...\",React.createElement(\"div\",null,React.createElement(\"img\",{className:\"loading-image\",src:loadingLogo})));}}}]);return KontenUtama;}(React.Component);","map":{"version":3,"sources":["/home/alta8/Alterra_Academy/challenge_react/blogs_listing/src/components/KontenUtama.js"],"names":["React","heartIcon","shareIcon","dislikeIcon","axios","apiKey","baseUrl","urlHeadline","KontenUtama","state","beritaUtama","isLoading","keyWord","props","componentWillReceiveProps","incomingChange","console","warn","self","length","get","then","response","setState","data","articles","catch","componentDidMount","beritaUtamaDenganImage","filter","element","urlToImage","beritaUtamaTeratas","key","map","url","title","description","publishedAt","loadingLogo","Component"],"mappings":"s2BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,6BAAP,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,yCAGA;AACA,GAAMC,CAAAA,MAAM,CAAG,kCAAf,CACA,GAAMC,CAAAA,OAAO,CAAG,yBAAhB,CACA,GAAMC,CAAAA,WAAW,CAAGD,OAAO,CAAG,gCAAV,CAA6CD,MAAjE,CAEA,UAAaG,CAAAA,WAAb,+ZAEIC,KAFJ,CAEY,CACJC,WAAW,CAAE,EADT,CAEJC,SAAS,CAAE,IAFP,CAGJC,OAAO,CAAE,MAAKC,KAAL,CAAWD,OAHhB,CAFZ,OASIE,yBATJ,CASgC,SAACC,cAAD,CAAoB,CAC5CC,OAAO,CAACC,IAAR,CAAa,gCAAb,CAA+CF,cAAc,CAACH,OAA9D,EACA,GAAMM,CAAAA,IAAI,8BAAV,CAEA,GAAGH,cAAc,CAACH,OAAf,CAAuBO,MAAvB,CAAgC,CAAnC,CACA,CACIf,KAAK,CACAgB,GADL,CACSd,OAAO,CAAG,eAAV,CAA4BS,cAAc,CAACH,OAA3C,CAAqD,UAArD,CAAkEP,MAD3E,EAEKgB,IAFL,CAEU,SAASC,QAAT,CAAkB,CACpBJ,IAAI,CAACK,QAAL,CAAc,CAACb,WAAW,CAAEY,QAAQ,CAACE,IAAT,CAAcC,QAA5B,CAAsCd,SAAS,CAAE,KAAjD,CAAd,EACH,CAJL,EAKKe,KALL,CAKW,SAASJ,QAAT,CAAkB,CACrBJ,IAAI,CAACK,QAAL,CAAc,CAACZ,SAAS,CAAE,KAAZ,CAAd,EACH,CAPL,EAQIK,OAAO,CAACC,IAAR,CAAa,UAAb,CAAyB,MAAKR,KAAL,CAAWC,WAApC,EACP,CACJ,CAzBL,OA2BIiB,iBA3BJ,CA2BwB,UAAM,CACtB,GAAMT,CAAAA,IAAI,8BAAV,CACAd,KAAK,CACAgB,GADL,CACSb,WADT,EAEKc,IAFL,CAEU,SAASC,QAAT,CAAkB,CACpBJ,IAAI,CAACK,QAAL,CAAc,CAACb,WAAW,CAAEY,QAAQ,CAACE,IAAT,CAAcC,QAA5B,CAAsCd,SAAS,CAAE,KAAjD,CAAd,EACH,CAJL,EAKKe,KALL,CAKW,SAASJ,QAAT,CAAkB,CACrBJ,IAAI,CAACK,QAAL,CAAc,CAACZ,SAAS,CAAE,KAAZ,CAAd,EACH,CAPL,EAQH,CArCL,8EAuCY,iBAC6B,KAAKF,KADlC,CACGC,WADH,aACGA,WADH,CACgBC,SADhB,aACgBA,SADhB,CAGJ;AACA,GAAMiB,CAAAA,sBAAsB,CAAGlB,WAAW,CAACmB,MAAZ,CAAmB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,UAAR,GAAuB,IAA3B,EAA1B,CAA/B,CAEA;AACA,GAAMC,CAAAA,kBAAkB,CAAGJ,sBAAsB,CAACC,MAAvB,CAA8B,SAACC,OAAD,CAAUG,GAAV,QACzDA,CAAAA,GAAG,EAAI,CADkD,EAA9B,CAA3B,CAGA;AACA,GAAItB,SAAS,GAAK,KAAlB,CAAwB,CACpB,MACI,4BAAK,SAAS,CAAC,cAAf,EACKqB,kBAAkB,CAACE,GAAnB,CAAuB,SAACJ,OAAD,CAAUG,GAAV,QACpB,4BAAK,SAAS,CAAC,cAAf,EACI,2BAAK,SAAS,CAAC,eAAf,CAA+B,GAAG,CAAEH,OAAO,CAACC,UAA5C,CAAwD,GAAG,CAAC,EAA5D,EADJ,CAEI,0BAAI,SAAS,CAAC,oBAAd,EAAmC,yBAAG,IAAI,CAAED,OAAO,CAACK,GAAjB,CAAsB,MAAM,CAAC,QAA7B,EAAuCL,OAAO,CAACM,KAA/C,CAAnC,CAFJ,CAGI,yBAAG,SAAS,CAAC,kBAAb,EAAiCN,OAAO,CAACO,WAAzC,CAHJ,CAII,yBAAG,SAAS,CAAC,aAAb,mBAA0CP,OAAO,CAACQ,WAAlD,CAJJ,CAKI,2BAAK,SAAS,CAAC,oCAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EAA4B,2BAAK,SAAS,CAAC,iBAAf,CAAiC,GAAG,CAAErC,SAAtC,EAA5B,CADJ,CAEI,2BAAK,SAAS,CAAC,aAAf,EAA6B,2BAAK,SAAS,CAAC,iBAAf,CAAiC,GAAG,CAAEC,SAAtC,EAA7B,CAFJ,CAGI,2BAAK,SAAS,CAAC,eAAf,EAA+B,2BAAK,SAAS,CAAC,iBAAf,CAAiC,GAAG,CAAEC,WAAtC,EAA/B,CAHJ,CADJ,CALJ,CADoB,EAAvB,CADL,CADJ,CAmBH,CAED;AAtBA,IAuBK,CACD,MACI,4BAAK,SAAS,CAAC,eAAf,eAEI,+BACI,2BAAK,SAAS,CAAC,eAAf,CAA+B,GAAG,CAAEoC,WAApC,EADJ,CAFJ,CADJ,CAQH,CACJ,CAnFL,yBAAiCvC,KAAK,CAACwC,SAAvC","sourcesContent":["import React from 'react'\nimport '../styles/bootstrap.min.css'\nimport heartIcon from '../img/heart_icon.png'\nimport shareIcon from '../img/share_icon.png'\nimport dislikeIcon from '../img/dislike_icon.png'\nimport axios from 'axios'\nimport loadingLogo from '../img/logo.svg'\n\n// News API\nconst apiKey = '9975f97755874c9fb9b501d61a9cff2a'\nconst baseUrl = 'https://newsapi.org/v2/'\nconst urlHeadline = baseUrl + \"everything?sources=cnn&apiKey=\" + apiKey\n\nexport class KontenUtama extends React.Component {\n    // Define state\n    state = {\n        beritaUtama: [],\n        isLoading: true,\n        keyWord: this.props.keyWord\n    }\n\n    // Receive new props\n    componentWillReceiveProps = (incomingChange) => {\n        console.warn('incoming change on props value', incomingChange.keyWord)\n        const self = this;\n        \n        if(incomingChange.keyWord.length > 2)\n        {\n            axios\n                .get(baseUrl + \"everything?q=\" + incomingChange.keyWord + \"&apiKey=\" + apiKey)\n                .then(function(response){\n                    self.setState({beritaUtama: response.data.articles, isLoading: false})\n                })\n                .catch(function(response){\n                    self.setState({isLoading: false})\n                })\n                console.warn('response', this.state.beritaUtama)\n        }\n    }\n    \n    componentDidMount = () => {\n        const self = this;\n        axios\n            .get(urlHeadline)\n            .then(function(response){\n                self.setState({beritaUtama: response.data.articles, isLoading: false})\n            })\n            .catch(function(response){\n                self.setState({isLoading: false})\n            })\n    }\n\n    render(){\n        const {beritaUtama, isLoading} = this.state\n\n        // Take news only if the image is not null\n        const beritaUtamaDenganImage = beritaUtama.filter(element => element.urlToImage !== null) \n\n        // To take the first ten news\n        const beritaUtamaTeratas = beritaUtamaDenganImage.filter((element, key) => \n        key <= 9);\n\n        // Case while not loading\n        if (isLoading === false){\n            return (\n                <div className='konten-utama'>\n                    {beritaUtamaTeratas.map((element, key) =>\n                        <div className='each-content'>\n                            <img className='content-image' src={element.urlToImage} alt=''/>\n                            <h3 className='judul-konten-utama'><a href={element.url} target='_blank'>{element.title}</a></h3>\n                            <p className='isi-konten-utama'>{element.description}</p>\n                            <p className='last-update'>Published At: {element.publishedAt}</p>\n                            <div className='container-fluid love-share-dislike'>\n                                <div className='row'>\n                                    <div className='col-4 love'><img className='a-pack-of-icons' src={heartIcon}/></div>\n                                    <div className='col-4 share'><img className='a-pack-of-icons' src={shareIcon}/></div>\n                                    <div className='col-4 dislike'><img className='a-pack-of-icons' src={dislikeIcon}/></div>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            )\n        }\n\n        // Case while loading\n        else {\n            return (\n                <div className='while-loading'>\n                    Loading...\n                    <div>\n                        <img className='loading-image' src={loadingLogo} />\n                    </div>\n                </div>\n            )\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}