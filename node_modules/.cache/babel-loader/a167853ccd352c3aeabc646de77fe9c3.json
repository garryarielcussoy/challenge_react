{"ast":null,"code":"import _regeneratorRuntime from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/alta8/Alterra_Academy/challenge_react/blogs_listing/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'../styles/bootstrap.min.css';import'../styles/main.css';import{Header}from'../components/Header';import axios from'axios';import{Redirect}from'react-router-dom';import{withRouter}from\"react-router-dom\";import{connect}from\"unistore/react\";import{actions,store}from\"../store\";export var Masuk=/*#__PURE__*/function(_React$Component){_inherits(Masuk,_React$Component);function Masuk(){var _getPrototypeOf2;var _this;_classCallCheck(this,Masuk);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Masuk)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.postLogin=function(){var namaPengguna=_this.props.namaPengguna;var kataKunci=_this.props.kataKunci;var data={username:namaPengguna,password:kataKunci};var self=_assertThisInitialized(_this);axios.post(\"https://react-challenge.free.beeceptor.com/masuk\",data).then(function _callee(response){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(response.data);if(!response.data.hasOwnProperty(\"accKey\")){_context.next=6;break;}console.warn('masuk if');_context.next=5;return _regeneratorRuntime.awrap(store.setState({accKey:response.data.accKey,isLogin:true,name:response.data.name,email:response.data.email}));case 5:return _context.abrupt(\"return\",React.createElement(Redirect,{to:{pathname:\"/profile\"}}));case 6:case\"end\":return _context.stop();}}});}).catch(function(error){console.log(error);});};return _this;}_createClass(Masuk,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(React.Fragment,null,React.createElement(Header,null),React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-4\"}),React.createElement(\"div\",{className:\"col-4 login-sheet\"},React.createElement(\"form\",{className:\"login-session\",onSubmit:function onSubmit(e){return _this2.props.onSubmit(e);}},React.createElement(\"h3\",{className:\"h3-login\"},\"LOGIN\"),React.createElement(\"input\",{type:\"text\",name:\"namaPengguna\",placeholder:\"Username\",onChange:function onChange(e){return _this2.props.onChange(e);}}),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"text\",name:\"kataKunci\",placeholder:\"Password\",onChange:function onChange(e){return _this2.props.onChange(e);}}),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(){return _this2.postLogin();}},\"Masuk\"))),React.createElement(\"div\",{className:\"col-4\"}))));}}]);return Masuk;}(React.Component);export default connect(\"namaPengguna, kataKunci, email, name, accKey, isLogin\",actions)(withRouter(Masuk));","map":{"version":3,"sources":["/home/alta8/Alterra_Academy/challenge_react/blogs_listing/src/pages/Masuk.js"],"names":["React","Header","axios","Redirect","withRouter","connect","actions","store","Masuk","postLogin","namaPengguna","props","kataKunci","data","username","password","self","post","then","response","console","log","hasOwnProperty","warn","setState","accKey","isLogin","name","email","pathname","catch","error","e","onSubmit","onChange","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport '../styles/bootstrap.min.css'\nimport '../styles/main.css'\nimport {Header} from '../components/Header'\nimport axios from 'axios'\nimport {Redirect} from 'react-router-dom'\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store\";\n\nexport class Masuk extends React.Component{\n    // state = { namaPengguna: \"\", kataKunci: \"\" };\n    \n    // changeInput = e => {\n    //     console.warn(\"check event target\", e.target.value);\n    //     this.setState({ [e.target.name]: e.target.value });\n    //   };\n    \n      postLogin = () => {\n        const namaPengguna = this.props.namaPengguna;\n        const kataKunci = this.props.kataKunci\n        const data = {\n          username: namaPengguna,\n          password: kataKunci\n        };\n        \n        const self = this;\n        axios\n          .post(\"https://react-challenge.free.beeceptor.com/masuk\", data)\n          .then(async function (response) {\n            console.log(response.data);\n            if (response.data.hasOwnProperty(\"accKey\")) {\n              console.warn('masuk if');\n              await store.setState({accKey: response.data.accKey, isLogin: true, name: response.data.name, email: response.data.email});\n              // self.props.history.push(\"/profile\");\n            return <Redirect to={{ pathname: \"/profile\" }} />\n            }\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n      };\n    \n    render() {\n        return (\n            <React.Fragment>\n                <Header />\n                <div className='container-fluid'>\n                    <div className='row'>\n                        <div className='col-4'></div>\n                        <div className='col-4 login-sheet'>\n                            <form className='login-session' onSubmit={(e) => this.props.onSubmit(e)}>\n                                <h3 className='h3-login'>LOGIN</h3>\n                                <input type='text' name=\"namaPengguna\" placeholder=\"Username\" onChange={(e) => this.props.onChange(e)}></input><br /><br />\n                                <input type='text' name=\"kataKunci\" placeholder=\"Password\" onChange={(e) => this.props.onChange(e)}></input><br /><br />\n                                <button type='button' className='btn btn-primary' onClick={() => this.postLogin()}>Masuk</button>\n                            </form>\n                        </div>\n                        <div className='col-4'></div>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default connect(\"namaPengguna, kataKunci, email, name, accKey, isLogin\", actions)(withRouter(Masuk))"]},"metadata":{},"sourceType":"module"}